(this["webpackJsonpreact-book"]=this["webpackJsonpreact-book"]||[]).push([[0],{122:function(e,t,n){e.exports=n(208)},127:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),c=n.n(o),l=(n(127),n(58)),i=n(21),u=n(103),p=n(104),s=n(117),m=n(105),f=n(118),h=r.a.createContext(),d=h.Consumer,b=h.Provider,v=n(211),E=n(13),k=n(212),y=function(e){var t=e.bookList,n=r.a.createElement(v.a,{style:{backgroundColor:"transparent",fontSize:"16px",color:"#08c"},icon:r.a.createElement(E.a,{type:"file"})}),a=r.a.createElement(v.a,{style:{backgroundColor:"transparent",fontSize:"16px",color:"#08c"},icon:r.a.createElement(E.a,{type:"folder"})}),o=function(e){return!!e.children?(e.path.split("/").pop(),r.a.createElement(l.b,{to:{pathname:"/".concat(e.path.replace(/\//g,"@@@@"))}},e.label)):r.a.createElement("a",{href:e.path},e.label)};return r.a.createElement("div",null,r.a.createElement(k.a,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){var t=!!e.children;return r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Item.Meta,{avatar:t?a:n,title:o(e),description:""}))}}),",")},g=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.match.params,t=e&&e.r?e.r:"";t=t.replace(/@@@@/g,"/"),console.log(t);var n=function(e,n){return t?n[t].children:e};return r.a.createElement("div",null,r.a.createElement(d,null,(function(e){var t=e.bookList,a=e.bookMap;return r.a.createElement(y,{bookList:n(t,a)})})))}}]),t}(r.a.Component),C=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/:r",component:g}),r.a.createElement(i.a,{path:"/",component:g}))))},A="https://".concat("book-1251784200",".cos.").concat("ap-guangzhou",".myqcloud.com/"),I=n(116),M=new(n.n(I).a)({SecretId:"AKIDoOVMwHFFVVH3ZbhTYMn1nJM8hrmQk35q",SecretKey:"f6D7k8G9ICuWVEgtqY0DH5dvyvfDrNee"});function O(e,t,n){if(t){var a=t.indexOf("/");if(a>-1){var r=t.slice(0,a),o=t.slice(a+1),c=e.find((function(e){return e.label===r}));if(c&&"children"in c)O(c.children,o,n);else{var l={label:r,path:n.split("/").filter((function(e){return!!e})).join("/"),children:[]};e.push(l),O(l.children,o,n)}}else{var i={label:t,path:A+encodeURI(n)};e.push(i)}}}function j(e){var t={};return function e(t,n){Array.isArray(t)?t.forEach((function(t){return e(t,n)})):(n[t.path]=t,Array.isArray(t.children)&&e(t.children,n))}(e,t),t}new Promise((function(e,t){M.getBucket({Bucket:"book-1251784200",Region:"ap-guangzhou"},(function(n,a){var r=[];if(!n&&Array.isArray(a.Contents)){for(var o=0;o<a.Contents.length;o++){var c=a.Contents[o].Key;O(r,c,c)}e(r)}else t(n)}))})).then((function(e){var t=j(e),n=r.a.createElement(b,{value:{bookList:e,bookMap:t}},r.a.createElement(C,null));c.a.render(n,document.getElementById("root"))}))}},[[122,1,2]]]);
//# sourceMappingURL=main.ae7c6e11.chunk.js.map